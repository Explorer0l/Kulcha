{"ast":null,"code":"import{useEffect}from'react';function useTelegram(){var _window$Telegram;const tg=(_window$Telegram=window.Telegram)===null||_window$Telegram===void 0?void 0:_window$Telegram.WebApp;useEffect(()=>{if(tg){tg.ready();tg.expand();}},[tg]);const showBackButton=()=>{if(tg){tg.BackButton.show();}};const hideBackButton=()=>{if(tg){tg.BackButton.hide();}};const setBackButtonCallback=cb=>{if(tg){tg.BackButton.onClick(cb);}};const showMainButton=text=>{if(tg){tg.MainButton.setText(text);tg.MainButton.show();}};const hideMainButton=()=>{if(tg){tg.MainButton.hide();}};const setMainButtonCallback=cb=>{if(tg){tg.MainButton.onClick(cb);}};const enableMainButton=()=>{if(tg){tg.MainButton.enable();}};const disableMainButton=()=>{if(tg){tg.MainButton.disable();}};const showMainButtonLoader=()=>{if(tg){tg.MainButton.showProgress(false);}};const hideMainButtonLoader=()=>{if(tg){tg.MainButton.hideProgress();}};const getUser=()=>{var _tg$initDataUnsafe;return tg===null||tg===void 0?void 0:(_tg$initDataUnsafe=tg.initDataUnsafe)===null||_tg$initDataUnsafe===void 0?void 0:_tg$initDataUnsafe.user;};return{tg,showBackButton,hideBackButton,setBackButtonCallback,showMainButton,hideMainButton,setMainButtonCallback,enableMainButton,disableMainButton,showMainButtonLoader,hideMainButtonLoader,getUser};}export default useTelegram;","map":{"version":3,"names":["useEffect","useTelegram","_window$Telegram","tg","window","Telegram","WebApp","ready","expand","showBackButton","BackButton","show","hideBackButton","hide","setBackButtonCallback","cb","onClick","showMainButton","text","MainButton","setText","hideMainButton","setMainButtonCallback","enableMainButton","enable","disableMainButton","disable","showMainButtonLoader","showProgress","hideMainButtonLoader","hideProgress","getUser","_tg$initDataUnsafe","initDataUnsafe","user"],"sources":["C:/Users/AsusLaptop/Desktop/Kulcha/frontend/kulcha-app/src/hooks/useTelegram.ts"],"sourcesContent":["import { useEffect } from 'react';\r\n\r\ndeclare global {\r\n  interface Window {\r\n    Telegram: {\r\n      WebApp: {\r\n        ready: () => void;\r\n        expand: () => void;\r\n        close: () => void;\r\n        BackButton: {\r\n          show: () => void;\r\n          hide: () => void;\r\n          onClick: (cb: () => void) => void;\r\n        };\r\n        MainButton: {\r\n          show: () => void;\r\n          hide: () => void;\r\n          setText: (text: string) => void;\r\n          onClick: (cb: () => void) => void;\r\n          enable: () => void;\r\n          disable: () => void;\r\n          showProgress: (leaveActive: boolean) => void;\r\n          hideProgress: () => void;\r\n        };\r\n        themeParams: {\r\n          bg_color: string;\r\n          text_color: string;\r\n          button_color: string;\r\n          button_text_color: string;\r\n        };\r\n        initData: string;\r\n        initDataUnsafe: {\r\n          user?: {\r\n            id: number;\r\n            first_name: string;\r\n            last_name?: string;\r\n            username?: string;\r\n          };\r\n        };\r\n      };\r\n    };\r\n  }\r\n}\r\n\r\nfunction useTelegram() {\r\n  const tg = window.Telegram?.WebApp;\r\n\r\n  useEffect(() => {\r\n    if (tg) {\r\n      tg.ready();\r\n      tg.expand();\r\n    }\r\n  }, [tg]);\r\n\r\n  const showBackButton = () => {\r\n    if (tg) {\r\n      tg.BackButton.show();\r\n    }\r\n  };\r\n\r\n  const hideBackButton = () => {\r\n    if (tg) {\r\n      tg.BackButton.hide();\r\n    }\r\n  };\r\n\r\n  const setBackButtonCallback = (cb: () => void) => {\r\n    if (tg) {\r\n      tg.BackButton.onClick(cb);\r\n    }\r\n  };\r\n\r\n  const showMainButton = (text: string) => {\r\n    if (tg) {\r\n      tg.MainButton.setText(text);\r\n      tg.MainButton.show();\r\n    }\r\n  };\r\n\r\n  const hideMainButton = () => {\r\n    if (tg) {\r\n      tg.MainButton.hide();\r\n    }\r\n  };\r\n\r\n  const setMainButtonCallback = (cb: () => void) => {\r\n    if (tg) {\r\n      tg.MainButton.onClick(cb);\r\n    }\r\n  };\r\n\r\n  const enableMainButton = () => {\r\n    if (tg) {\r\n      tg.MainButton.enable();\r\n    }\r\n  };\r\n\r\n  const disableMainButton = () => {\r\n    if (tg) {\r\n      tg.MainButton.disable();\r\n    }\r\n  };\r\n\r\n  const showMainButtonLoader = () => {\r\n    if (tg) {\r\n      tg.MainButton.showProgress(false);\r\n    }\r\n  };\r\n\r\n  const hideMainButtonLoader = () => {\r\n    if (tg) {\r\n      tg.MainButton.hideProgress();\r\n    }\r\n  };\r\n\r\n  const getUser = () => tg?.initDataUnsafe?.user;\r\n\r\n  return {\r\n    tg,\r\n    showBackButton,\r\n    hideBackButton,\r\n    setBackButtonCallback,\r\n    showMainButton,\r\n    hideMainButton,\r\n    setMainButtonCallback,\r\n    enableMainButton,\r\n    disableMainButton,\r\n    showMainButtonLoader,\r\n    hideMainButtonLoader,\r\n    getUser,\r\n  };\r\n}\r\n\r\nexport default useTelegram; "],"mappings":"AAAA,OAASA,SAAS,KAAQ,OAAO,CA4CjC,QAAS,CAAAC,WAAWA,CAAA,CAAG,KAAAC,gBAAA,CACrB,KAAM,CAAAC,EAAE,EAAAD,gBAAA,CAAGE,MAAM,CAACC,QAAQ,UAAAH,gBAAA,iBAAfA,gBAAA,CAAiBI,MAAM,CAElCN,SAAS,CAAC,IAAM,CACd,GAAIG,EAAE,CAAE,CACNA,EAAE,CAACI,KAAK,CAAC,CAAC,CACVJ,EAAE,CAACK,MAAM,CAAC,CAAC,CACb,CACF,CAAC,CAAE,CAACL,EAAE,CAAC,CAAC,CAER,KAAM,CAAAM,cAAc,CAAGA,CAAA,GAAM,CAC3B,GAAIN,EAAE,CAAE,CACNA,EAAE,CAACO,UAAU,CAACC,IAAI,CAAC,CAAC,CACtB,CACF,CAAC,CAED,KAAM,CAAAC,cAAc,CAAGA,CAAA,GAAM,CAC3B,GAAIT,EAAE,CAAE,CACNA,EAAE,CAACO,UAAU,CAACG,IAAI,CAAC,CAAC,CACtB,CACF,CAAC,CAED,KAAM,CAAAC,qBAAqB,CAAIC,EAAc,EAAK,CAChD,GAAIZ,EAAE,CAAE,CACNA,EAAE,CAACO,UAAU,CAACM,OAAO,CAACD,EAAE,CAAC,CAC3B,CACF,CAAC,CAED,KAAM,CAAAE,cAAc,CAAIC,IAAY,EAAK,CACvC,GAAIf,EAAE,CAAE,CACNA,EAAE,CAACgB,UAAU,CAACC,OAAO,CAACF,IAAI,CAAC,CAC3Bf,EAAE,CAACgB,UAAU,CAACR,IAAI,CAAC,CAAC,CACtB,CACF,CAAC,CAED,KAAM,CAAAU,cAAc,CAAGA,CAAA,GAAM,CAC3B,GAAIlB,EAAE,CAAE,CACNA,EAAE,CAACgB,UAAU,CAACN,IAAI,CAAC,CAAC,CACtB,CACF,CAAC,CAED,KAAM,CAAAS,qBAAqB,CAAIP,EAAc,EAAK,CAChD,GAAIZ,EAAE,CAAE,CACNA,EAAE,CAACgB,UAAU,CAACH,OAAO,CAACD,EAAE,CAAC,CAC3B,CACF,CAAC,CAED,KAAM,CAAAQ,gBAAgB,CAAGA,CAAA,GAAM,CAC7B,GAAIpB,EAAE,CAAE,CACNA,EAAE,CAACgB,UAAU,CAACK,MAAM,CAAC,CAAC,CACxB,CACF,CAAC,CAED,KAAM,CAAAC,iBAAiB,CAAGA,CAAA,GAAM,CAC9B,GAAItB,EAAE,CAAE,CACNA,EAAE,CAACgB,UAAU,CAACO,OAAO,CAAC,CAAC,CACzB,CACF,CAAC,CAED,KAAM,CAAAC,oBAAoB,CAAGA,CAAA,GAAM,CACjC,GAAIxB,EAAE,CAAE,CACNA,EAAE,CAACgB,UAAU,CAACS,YAAY,CAAC,KAAK,CAAC,CACnC,CACF,CAAC,CAED,KAAM,CAAAC,oBAAoB,CAAGA,CAAA,GAAM,CACjC,GAAI1B,EAAE,CAAE,CACNA,EAAE,CAACgB,UAAU,CAACW,YAAY,CAAC,CAAC,CAC9B,CACF,CAAC,CAED,KAAM,CAAAC,OAAO,CAAGA,CAAA,QAAAC,kBAAA,OAAM,CAAA7B,EAAE,SAAFA,EAAE,kBAAA6B,kBAAA,CAAF7B,EAAE,CAAE8B,cAAc,UAAAD,kBAAA,iBAAlBA,kBAAA,CAAoBE,IAAI,GAE9C,MAAO,CACL/B,EAAE,CACFM,cAAc,CACdG,cAAc,CACdE,qBAAqB,CACrBG,cAAc,CACdI,cAAc,CACdC,qBAAqB,CACrBC,gBAAgB,CAChBE,iBAAiB,CACjBE,oBAAoB,CACpBE,oBAAoB,CACpBE,OACF,CAAC,CACH,CAEA,cAAe,CAAA9B,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}