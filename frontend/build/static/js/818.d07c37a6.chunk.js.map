{"version":3,"file":"static/js/818.d07c37a6.chunk.js","mappings":"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","sources":["pages/AdminLoginPage.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport styled from 'styled-components';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { authenticateOwner } from '../data/adminDatabase';\nimport { PageTransition } from '../styles/Components';\n\nconst Container = styled(PageTransition)`\n  min-height: 100vh;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  background: linear-gradient(135deg, var(--primary-light) 0%, var(--primary-color) 100%);\n  padding: var(--spacing-lg);\n`;\n\nconst LoginCard = styled.div`\n  background-color: var(--card-bg);\n  border-radius: var(--border-radius-lg);\n  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);\n  width: 100%;\n  max-width: 450px;\n  padding: var(--spacing-xl);\n  position: relative;\n  overflow: hidden;\n`;\n\nconst Title = styled.h1`\n  color: var(--text-color);\n  margin-bottom: var(--spacing-xl);\n  text-align: center;\n  font-size: 1.8rem;\n`;\n\nconst Form = styled.form`\n  display: flex;\n  flex-direction: column;\n  gap: var(--spacing-lg);\n`;\n\nconst FormGroup = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: var(--spacing-xs);\n`;\n\nconst Label = styled.label`\n  color: var(--text-color);\n  font-size: 0.9rem;\n  font-weight: 500;\n`;\n\nconst Input = styled.input`\n  padding: var(--spacing-md);\n  border: 1px solid var(--border-color);\n  border-radius: var(--border-radius-md);\n  background-color: var(--input-bg);\n  color: var(--text-color);\n  font-size: 1rem;\n  transition: border-color 0.2s, box-shadow 0.2s;\n\n  &:focus {\n    outline: none;\n    border-color: var(--primary-color);\n    box-shadow: 0 0 0 2px rgba(var(--primary-color-rgb), 0.1);\n  }\n`;\n\nconst ErrorMessage = styled.div`\n  color: var(--error-color);\n  background-color: var(--error-bg);\n  padding: var(--spacing-sm) var(--spacing-md);\n  border-radius: var(--border-radius-md);\n  font-size: 0.9rem;\n  margin-bottom: var(--spacing-md);\n  display: flex;\n  align-items: center;\n  gap: var(--spacing-sm);\n\n  svg {\n    min-width: 20px;\n  }\n`;\n\nconst SubmitButton = styled.button`\n  padding: var(--spacing-md);\n  background-color: var(--primary-color);\n  color: white;\n  border: none;\n  border-radius: var(--border-radius-md);\n  font-size: 1rem;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.2s;\n\n  &:hover {\n    background-color: var(--primary-dark);\n    transform: translateY(-2px);\n    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n  }\n\n  &:active {\n    transform: translateY(0);\n  }\n\n  &:disabled {\n    background-color: var(--disabled-color);\n    cursor: not-allowed;\n    transform: none;\n    box-shadow: none;\n  }\n`;\n\nconst BackLink = styled(Link)`\n  display: inline-flex;\n  align-items: center;\n  gap: var(--spacing-xs);\n  color: white;\n  margin-top: var(--spacing-lg);\n  text-decoration: none;\n  font-size: 0.9rem;\n  transition: color 0.2s;\n\n  &:hover {\n    color: var(--text-color);\n  }\n\n  svg {\n    width: 16px;\n    height: 16px;\n  }\n`;\n\nconst Logo = styled.div`\n  font-size: 2rem;\n  font-weight: 700;\n  color: white;\n  margin-bottom: var(--spacing-xl);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: var(--spacing-sm);\n\n  svg {\n    width: 36px;\n    height: 36px;\n  }\n`;\n\nconst TestAccountsContainer = styled.div`\n  margin-top: var(--spacing-lg);\n  padding: var(--spacing-md);\n  background-color: rgba(255, 255, 255, 0.15);\n  border-radius: var(--border-radius-md);\n  color: white;\n  font-size: 0.85rem;\n  max-width: 450px;\n  width: 100%;\n  backdrop-filter: blur(5px);\n`;\n\nconst TestAccountsTitle = styled.h3`\n  font-size: 0.95rem;\n  margin-bottom: var(--spacing-sm);\n  color: white;\n  text-align: center;\n`;\n\nconst TestAccount = styled.div`\n  margin-bottom: var(--spacing-xs);\n  display: flex;\n  justify-content: space-between;\n  \n  &:last-child {\n    margin-bottom: 0;\n  }\n`;\n\nconst AccountInfo = styled.span`\n  font-family: monospace;\n  background-color: rgba(0, 0, 0, 0.15);\n  padding: 2px 6px;\n  border-radius: 3px;\n`;\n\nconst AdminLoginPage: React.FC = () => {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const navigate = useNavigate();\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setIsLoading(true);\n    setError(null);\n\n    try {\n      const user = await authenticateOwner(email, password);\n      \n      if (user) {\n        // Сохраняем данные аутентификации в localStorage с правильными ключами\n        localStorage.setItem('isAuthenticated', 'true');\n        localStorage.setItem('userRole', 'admin');\n        localStorage.setItem('currentUser', JSON.stringify(user));\n        \n        // Важно! Сохраняем данные пользователя в ключе 'adminUser', который используется в OwnerStatisticsPage\n        localStorage.setItem('adminUser', JSON.stringify(user));\n        \n        // Перенаправляем на статистику владельца\n        navigate('/owner/statistics');\n      } else {\n        setError('Неверный email или пароль. Пожалуйста, проверьте данные и попробуйте снова.');\n      }\n    } catch (error) {\n      console.error('Login error:', error);\n      setError('Ошибка при входе. Пожалуйста, попробуйте позже.');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const setTestAccount = (testEmail: string) => {\n    setEmail(testEmail);\n    setPassword('kulcha2024');\n  };\n\n  return (\n    <Container>\n      <Logo>\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n          <circle cx=\"12\" cy=\"12\" r=\"10\"></circle>\n          <path d=\"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8\"></path>\n          <line x1=\"12\" y1=\"6\" x2=\"12\" y2=\"18\"></line>\n        </svg>\n        Кулча\n      </Logo>\n      \n      <LoginCard>\n        <Title>Вход для владельцев</Title>\n        \n        {error && (\n          <ErrorMessage>\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n              <circle cx=\"12\" cy=\"12\" r=\"10\"></circle>\n              <line x1=\"12\" y1=\"8\" x2=\"12\" y2=\"12\"></line>\n              <line x1=\"12\" y1=\"16\" x2=\"12.01\" y2=\"16\"></line>\n            </svg>\n            {error}\n          </ErrorMessage>\n        )}\n        \n        <Form onSubmit={handleSubmit}>\n          <FormGroup>\n            <Label htmlFor=\"email\">Email</Label>\n            <Input\n              id=\"email\"\n              type=\"email\"\n              value={email}\n              onChange={(e) => setEmail(e.target.value)}\n              required\n              placeholder=\"your@email.com\"\n            />\n          </FormGroup>\n          \n          <FormGroup>\n            <Label htmlFor=\"password\">Пароль</Label>\n            <Input\n              id=\"password\"\n              type=\"password\"\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n              required\n              placeholder=\"••••••••\"\n            />\n          </FormGroup>\n          \n          <SubmitButton type=\"submit\" disabled={isLoading}>\n            {isLoading ? 'Вход...' : 'Войти'}\n          </SubmitButton>\n        </Form>\n      </LoginCard>\n      \n      <TestAccountsContainer>\n        <TestAccountsTitle>Аккаунты ресторанов</TestAccountsTitle>\n        <TestAccount>\n          <span>Kulcha Центральный:</span> <AccountInfo onClick={() => setTestAccount('central@kulcha.ru')}>central@kulcha.ru</AccountInfo>\n        </TestAccount>\n        <TestAccount>\n          <span>Kulcha Экспресс:</span> <AccountInfo onClick={() => setTestAccount('express@kulcha.ru')}>express@kulcha.ru</AccountInfo>\n        </TestAccount>\n        <TestAccount>\n          <span>Kulcha Премиум:</span> <AccountInfo onClick={() => setTestAccount('premium@kulcha.ru')}>premium@kulcha.ru</AccountInfo>\n        </TestAccount>\n        <TestAccount>\n          <span>Kulcha Фэмили:</span> <AccountInfo onClick={() => setTestAccount('family@kulcha.ru')}>family@kulcha.ru</AccountInfo>\n        </TestAccount>\n        <TestAccount>\n          <span>Kulcha Восточный:</span> <AccountInfo onClick={() => setTestAccount('east@kulcha.ru')}>east@kulcha.ru</AccountInfo>\n        </TestAccount>\n        <TestAccount>\n          <span>Kulcha Гурмэ:</span> <AccountInfo onClick={() => setTestAccount('gourmet@kulcha.ru')}>gourmet@kulcha.ru</AccountInfo>\n        </TestAccount>\n        <TestAccount>\n          <span>Kulcha Традиции:</span> <AccountInfo onClick={() => setTestAccount('tradition@kulcha.ru')}>tradition@kulcha.ru</AccountInfo>\n        </TestAccount>\n        <TestAccount>\n          <span>Пароль для всех:</span> <AccountInfo>kulcha2024</AccountInfo>\n        </TestAccount>\n      </TestAccountsContainer>\n      \n      <BackLink to=\"/role-selection\">\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n          <line x1=\"19\" y1=\"12\" x2=\"5\" y2=\"12\"></line>\n          <polyline points=\"12 19 5 12 12 5\"></polyline>\n        </svg>\n        Вернуться к выбору роли\n      </BackLink>\n    </Container>\n  );\n};\n\nexport default AdminLoginPage; "],"names":["Container","styled","PageTransition","LoginCard","div","Title","h1","Form","form","FormGroup","Label","label","Input","input","ErrorMessage","SubmitButton","button","BackLink","Link","Logo","TestAccountsContainer","TestAccountsTitle","h3","TestAccount","AccountInfo","span","AdminLoginPage","email","setEmail","useState","password","setPassword","isLoading","setIsLoading","error","setError","navigate","useNavigate","setTestAccount","testEmail","_jsxs","children","xmlns","width","height","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","_jsx","cx","cy","r","d","x1","y1","x2","y2","onSubmit","async","e","preventDefault","user","authenticateOwner","localStorage","setItem","JSON","stringify","console","htmlFor","id","type","value","onChange","target","required","placeholder","disabled","onClick","to","points"],"sourceRoot":""}